<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html" lang="en" xml:lang="en">
<head>
    <title>Multiscale Mutation Hotspots</title>
    <link type="text/css" rel="stylesheet" href="/static/css/main.css" />
    <link type="text/css" rel="stylesheet" href="/static/css/jquery-ui.min.css" />
    <link type="text/css" rel="stylesheet" href="/static/css/vq.css" />

    <script type="text/javascript" src="/static/js/seqpeek_view/vendor/underscore.js"></script>
    <script type="text/javascript" src="/static/js/seqpeek_view/vendor/d3.min.js"></script>
    <script type="text/javascript" src="/static/js/vendor/require.js"></script>
    <script type="text/javascript" src="/static/js/seqpeek_view/seqpeek_view.js"></script>
</head>
<body>
    <script type="text/javascript">
        __static_data = {{ static_data|safe }};
    </script>

    <form id="gene-tumor-form" action="seqpeek">
        <label>Select tumor types</label>
        <fieldset>
            <select id="tumor_type_select" size="10" multiple="true" name="tumor">
                {% for tumor_type in all_tumor_types %}
                    <option value="{{ tumor_type.name }}"
                    {%  if tumor_type.selected %}selected="selected"{%  endif %}>{{ tumor_type.name }}
                    </option>
                {% endfor %}
            </select>
            <button type="submit">Redraw</button>
        </fieldset>
    </form>
    <div class="ui-widget">
        <label for="genes">Select gene: </label>
        <input id="genes">
    </div>

    {% if plot_data %}
        <h2>SeqPeek {{ plot_data.gene_label}}</h2>
    {% else %}
        <h2>SeqPeek</h2>
    {% endif %}

    {% if plot_data %}
        <table id="seqpeek-table">
            <thead>
            <tr>
                <th>Tumor Type</th>
                <th>Samples (#)</th>
                <th style="text-align: center;">
                    <canvas id="seqpeek-mini-locator" width="400" height="24"></canvas>
                    <svg height="24">
                        <rect x="5" y="1" height="21" width="10" style="stroke: red; fill-opacity: 0.0;"></rect>
                        <text x="20" y="15" font-size="10">current view</text>
                        <rect x="85" y="7" height="10" width="30" style="fill: rgb(170,170,170); stroke-opacity: 0.0;"></rect>
                        <text x="120" y="15" font-size="10">whole protein</text>
                    </svg>
                </th>
            </tr>
            </thead>
            <tbody>
            {% for track in plot_data.tracks %}
                <tr>
                    <td>{{ track.label }}</td>
                    <td>{{ track.statistics.samples.numberOf }}</td>
                    <td id="{{ track.render_info.row_id }}"></td>
                </tr>
            {% endfor %}
            <tr>
                <td></td>
                <td></td>
                <td id="seqpeek-tick-element"></td>
            </tr>
            </tbody>
        </table>
        <script type="text/javascript">
            __data_bundle = {{ data_bundle|safe }};
        </script>
    {% endif %}
    <table>
        <thead>
            <tr>
                <th>Color</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="width: 30px; background-color: #FD8F42"></td>
                <td>Cluster</td>
            </tr>
            <tr>
                <td style="width: 30px; background-color: #84ACBA"></td>
                <td>Domain</td>
            </tr>
        </tbody>
    </table>

</body>
